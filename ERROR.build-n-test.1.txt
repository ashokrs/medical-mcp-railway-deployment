üì¶ Step 1: Installing dependencies...
======================================
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm warn deprecated superagent@8.1.2: Please upgrade to superagent v10.2.2+, see release notes at https://github.com/forwardemail/superagent/releases/tag/v10.2.2 - maintenance is supported by Forward Email @ https://forwardemail.net
npm warn deprecated puppeteer@21.11.0: < 24.9.0 is no longer supported
npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.

added 580 packages, and audited 581 packages in 10m

83 packages are looking for funding
  run `npm fund` for details

6 vulnerabilities (5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
‚úÖ Dependencies installed successfully

üèóÔ∏è  Step 2: Building the project...
====================================

> medical-mcp-web@1.0.0 build
> tsc

src/mcp/utils.ts:8:24 - error TS7016: Could not find a declaration file for module 'superagent'. '/Users/ashok/Code/apps/mcp/medical-mcp-service/node_modules/superagent/lib/node/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/superagent` if it exists or add a new declaration (.d.ts) file containing `declare module 'superagent';`

8 import superagent from "superagent";
                         ~~~~~~~~~~~~

src/mcp/utils.ts:153:31 - error TS2584: Cannot find name 'document'. Do you need to change your target library? Try changing the 'lib' compiler option to include 'dom'.

153       const articleElements = document.querySelectorAll(
                                  ~~~~~~~~

src/mcp/utils.ts:157:32 - error TS7006: Parameter 'element' implicitly has an 'any' type.

157       articleElements.forEach((element) => {
                                   ~~~~~~~

src/mcp/utils.ts:164:38 - error TS2304: Cannot find name 'HTMLAnchorElement'.

164         const url = (titleElement as HTMLAnchorElement)?.href || "";
                                         ~~~~~~~~~~~~~~~~~

src/web/medical-mcp-wrapper.ts:42:60 - error TS2532: Object is possibly 'undefined'.

42           purpose: drug.purpose?.[0]?.substring(0, 200) + (drug.purpose?.[0]?.length > 200 ? "..." : "") || "Not specified",
                                                              ~~~~~~~~~~~~~~~~~~~~~~~~~

src/web/medical-mcp-wrapper.ts:74:35 - error TS2339: Property 'indications_and_usage' does not exist on type 'DrugLabel'.

74         indicationsAndUsage: drug.indications_and_usage || [],
                                     ~~~~~~~~~~~~~~~~~~~~~

src/web/medical-mcp-wrapper.ts:76:33 - error TS2339: Property 'contraindications' does not exist on type 'DrugLabel'.

76         contraindications: drug.contraindications || [],
                                   ~~~~~~~~~~~~~~~~~

src/web/medical-mcp-wrapper.ts:117:21 - error TS2339: Property 'Unit' does not exist on type 'WHOIndicator'.

117           unit: ind.Unit || "",
                        ~~~~

src/web/medical-mcp-wrapper.ts:219:29 - error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

219           citedBy: parseInt(article.citations) || 0,
                                ~~~~~~~~~~~~~~~~~

src/web/server.ts:14:26 - error TS4111: Property 'PORT' comes from an index signature, so it must be accessed with ['PORT'].

14 const PORT = process.env.PORT || 3000;
                            ~~~~

src/web/server.ts:52:21 - error TS6133: 'req' is declared but its value is never read.

52 app.get('/health', (req, res) => {
                       ~~~

src/web/server.ts:65:31 - error TS7030: Not all code paths return a value.

65 app.post('/api/drugs/search', async (req, res) => {
                                 ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:93:32 - error TS7030: Not all code paths return a value.

93 app.post('/api/drugs/details', async (req, res) => {
                                  ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:121:36 - error TS7030: Not all code paths return a value.

121 app.post('/api/health/statistics', async (req, res) => {
                                       ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:149:36 - error TS7030: Not all code paths return a value.

149 app.post('/api/literature/search', async (req, res) => {
                                       ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:177:37 - error TS7030: Not all code paths return a value.

177 app.post('/api/drugs/nomenclature', async (req, res) => {
                                        ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:205:33 - error TS7030: Not all code paths return a value.

205 app.post('/api/scholar/search', async (req, res) => {
                                    ~~~~~~~~~~~~~~~~~~~~~

src/web/server.ts:233:45 - error TS6133: 'req' is declared but its value is never read.

233 app.post('/api/breast-cancer/drugs', async (req, res) => {
                                                ~~~

src/web/server.ts:302:48 - error TS6133: 'req' is declared but its value is never read.

302 app.post('/api/breast-cancer/research', async (req, res) => {
                                                   ~~~

src/web/server.ts:359:24 - error TS6133: 'req' is declared but its value is never read.

359 app.get('/api/tools', (req, res) => {
                           ~~~

src/web/server.ts:372:20 - error TS6133: 'req' is declared but its value is never read.

372 app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {
                       ~~~

src/web/server.ts:372:65 - error TS6133: 'next' is declared but its value is never read.

372 app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {
                                                                    ~~~~

src/web/server.ts:377:30 - error TS4111: Property 'NODE_ENV' comes from an index signature, so it must be accessed with ['NODE_ENV'].

377         message: process.env.NODE_ENV === 'development' ? err.message : 'Something went wrong'
                                 ~~~~~~~~

src/web/server.ts:382:15 - error TS6133: 'req' is declared but its value is never read.

382 app.get('*', (req, res) => {
                  ~~~

src/web/server.ts:387:12 - error TS2769: No overload matches this call.
  Overload 1 of 6, '(port: number, hostname: string, backlog: number, callback?: (() => void) | undefined): Server<typeof IncomingMessage, typeof ServerResponse>', gave the following error.
    Argument of type 'string | 3000' is not assignable to parameter of type 'number'.
      Type 'string' is not assignable to type 'number'.
  Overload 2 of 6, '(port: number, hostname: string, callback?: (() => void) | undefined): Server<typeof IncomingMessage, typeof ServerResponse>', gave the following error.
    Argument of type 'string | 3000' is not assignable to parameter of type 'number'.
      Type 'string' is not assignable to type 'number'.

387 app.listen(PORT, '0.0.0.0', () => {
               ~~~~



Found 25 errors in 3 files.

Errors  Files
     4  src/mcp/utils.ts:8
     5  src/web/medical-mcp-wrapper.ts:42
    16  src/web/server.ts:14
‚ùå Build failed
Check the error messages above for details
